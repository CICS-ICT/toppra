
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frequently Asked Questions &#8212; toppra  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="History" href="HISTORY.html" />
    <link rel="prev" title="Retime a path subject to robust kinematic constraints" href="auto_examples/plot_robust_kinematics.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">toppra</a></h1>



<p class="blurb">A robotic motion planning library for path-parametrization</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=hungpham2511&repo=toppra&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a class="badge" href="https://travis-ci.org/hungpham2511/toppra">
    <img
        alt="https://secure.travis-ci.org/hungpham2511/toppra.svg?branch=master"
        src="https://secure.travis-ci.org/hungpham2511/toppra.svg?branch=master"
    />
</a>
</p>



  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#how-many-gridpoints-should-i-take">1. How many gridpoints should I take?</a></li>
<li><a class="reference internal" href="#minimum-requirement-on-path-smoothness">2. Minimum requirement on path smoothness</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage-notes">Usage Notes</a><ul>
<li><a class="reference internal" href="#derivation-of-kinematical-quantities">Derivation of kinematical quantities</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="auto_examples/plot_robust_kinematics.html" title="previous chapter">Retime a path subject to robust kinematic constraints</a></li>
      <li>Next: <a href="HISTORY.html" title="next chapter">History</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="frequently-asked-questions">
<span id="notes"></span><h1>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="how-many-gridpoints-should-i-take">
<h2>1. How many gridpoints should I take?<a class="headerlink" href="#how-many-gridpoints-should-i-take" title="Permalink to this headline">¶</a></h2>
<p>A very important parameter in solving path parameterization instances
with <cite>toppra</cite> is the number of the gridpoints. Below is how to create
an instance with 1000 uniform gridpoints.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">gridpoints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">path</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>  <span class="c1"># 1000 points</span>
<span class="n">instance</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="n">TOPPRA</span><span class="p">([</span><span class="n">pc_vel</span><span class="p">,</span> <span class="n">pc_acc</span><span class="p">],</span> <span class="n">path</span><span class="p">,</span> <span class="n">gridpoints</span><span class="o">=</span><span class="n">gridpoints</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Generally, more gridpoints give you better solution quality, but also
increase solution time. Often the increase in solution time is linear,
that is if it takes 5ms to solve an instance with 100 gridpoints, then
most likely <cite>toppra</cite> will take 10ms to solve another instance which
has 200 gridpoints.</p>
<p>As a general rule of thumb, the number of gridpoints should be at
least a few times the number of waypoints in the given path. This is
not a hard rule, depending on whether the waypoints naturally form a
smooth curve or whether they vary wildly.</p>
<p>By default, <cite>toppra</cite> (python) will try to determine the best set of
gridpoints by doing a bisection search until a threshold level is
reached.</p>
</div>
<div class="section" id="minimum-requirement-on-path-smoothness">
<h2>2. Minimum requirement on path smoothness<a class="headerlink" href="#minimum-requirement-on-path-smoothness" title="Permalink to this headline">¶</a></h2>
<p>TOPPRA requires the input path to be sufficiently smooth to work
properly. An example of a noisy path that will be very difficult to
work with can be seen below:</p>
<img alt="_images/faq_figure.png" src="_images/faq_figure.png" />
<p>All toppra interpolators try to match all given waypoints, and hence
it can lead to large fluctuation if the waypoints change rapidly. In
this case, it is recommended to smooth the waypoints prior to using
toppra using for example <cite>scipy.interpolation</cite>.</p>
</div>
</div>
<div class="section" id="usage-notes">
<h1>Usage Notes<a class="headerlink" href="#usage-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="derivation-of-kinematical-quantities">
<span id="derivationkinematics"></span><h2>Derivation of kinematical quantities<a class="headerlink" href="#derivation-of-kinematical-quantities" title="Permalink to this headline">¶</a></h2>
<p>In <cite>toppra</cite> we deal with geometric paths, which are mathematically
functions <span class="math notranslate nohighlight">\(\mathbf p(s)\)</span>. Here <span class="math notranslate nohighlight">\(s\)</span> is the path position
and usually belongs to the interval <span class="math notranslate nohighlight">\([0, 1]\)</span>. Notice that
<cite>toppra</cite> can also handle arbitrary interval. In the code a path is
represented by a child class inherited from the abstract
<a class="reference internal" href="python_api.html#toppra.interpolator.AbstractGeometricPath" title="toppra.interpolator.AbstractGeometricPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">toppra.interpolator.AbstractGeometricPath</span></code></a>.</p>
<p>Important expression relating kinematic quantities:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\mathbf q(t) &amp;= \mathbf p(s(t)) \\
\dot{\mathbf p}(t) &amp;= \mathbf p'(s) \dot s(t) \\
\ddot{\mathbf p}(t) &amp;= \mathbf p'(s) \ddot s(t) + \mathbf p''(s) \dot s(t)^2\end{split}\]</div>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2020, Hung Pham.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/notes.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/hungpham2511/toppra" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>